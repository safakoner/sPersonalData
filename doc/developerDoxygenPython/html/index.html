<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>sPersonalData: About This Package</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">sPersonalData
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">by Safak Oner</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">About This Package </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__Users_soner_Downloads_sPersonalData_README"></a> I was asked to deliver a technical task for a job offering. I was offered a job upon providing this package, along with API reference (Doxygen) and additional documentation like the one below.</p>
<h1>Requirements for the Task</h1>
<p>The brief for this challenge is as follows:</p>
<p>In Python or C++ write a module or small library which shows how you would take a set of personal data, where each record contains:</p>
<ul>
<li>name</li>
<li>address</li>
<li>phone number</li>
</ul>
<p>And:</p>
<p>build a simple API allowing you to add new records, filter users (e.g "name=Joe*") based on some simple search syntax like Glob. Support serialisation in 2 or more formats (e.g JSON, Yaml, XML, CSV etc). Display the data in 2 or more different output formats (no need to use a GUI Framework, use e.g text output/HTML or any other human readable format). Add a command line interface to add records, and display/convert/filter the whole data set. Write it in such a way that it would be easy for a developer to extend the system e.g</p>
<ul>
<li>to add support for additional storage formats</li>
<li>to query a list of currently supported formats</li>
</ul>
<p>This should ideally show Object-Oriented Design and Design Patterns Knowledge, weâ€™re not looking for use of advanced Language constructs.</p>
<p>Please provide reasonable Unit Test coverage and basic API documentation</p>
<p>The task is designed to allow you some flexibility in how you design and implement it, and you should submit something that demonstrates your abilities and/or values as a Software Engineer.</p>
<h1>Overview</h1>
<p>This package contains tools and API, which you can use to operate on personal data. Personal data is/can be kept by the supported formats. The API determines which format to use based on the extension of the files being operated on, therefore no format manually/explicitly need to be provided to the API.</p>
<h2>API Reference</h2>
<p>API reference (Doxygen) of the package is available in <code>sPersonalData/doc/developerDoxygenPython/html</code> folder.</p>
<h1>Setup</h1>
<p><b>This package is developed with Python 2.7</b></p>
<p>Add the following path to Python path.</p>
<p><code>sPersonalData/python</code></p>
<p>Add the one of the following path to bin path.</p>
<p><code>sPersonalData/bin/darwin</code> <code>sPersonalData/bin/linux</code></p>
<p>Import the modules.</p>
<div class="fragment"><div class="line">import sPersonalData.personLib</div>
<div class="line">import sPersonalData.personalDataLib</div>
</div><!-- fragment --><p>Set the files, which we will use for serialization/deserialization.</p>
<div class="fragment"><div class="line">TEST_FOLDER = os.path.abspath(os.path.join(__file__, &#39;..&#39;, &#39;..&#39;, &#39;..&#39;, &#39;test&#39;))</div>
<div class="line"> </div>
<div class="line">JSON_FILE   = os.path.join(TEST_FOLDER, &#39;personalData.json&#39;)</div>
<div class="line"> </div>
<div class="line">XML_FILE    = os.path.join(TEST_FOLDER, &#39;personalData.xml&#39;)</div>
</div><!-- fragment --><h1>Creating and Adding Personal Data</h1>
<div class="fragment"><div class="line"># Create an instance of sPersonalData.personLib.Person class like so</div>
<div class="line"> </div>
<div class="line">p1 = sPersonalData.personLib.Person(name=&#39;Safak Oner&#39;,</div>
<div class="line">                                    phoneNumber=&#39;607 999 8822&#39;,</div>
<div class="line">                                    address=&#39;Los Angeles, California&#39;)</div>
<div class="line"> </div>
<div class="line"># Create an instance of sPersonalData.personalDataLib.PersonalData</div>
<div class="line"># class by providing a file that you want to work on. If provided file doesn&#39;t</div>
<div class="line"># exist, it will be created.</div>
<div class="line"> </div>
<div class="line">personalData = sPersonalData.personalDataLib.PersonalData(filePath=JSON_FILE)</div>
<div class="line"> </div>
<div class="line"># Add the person to personal data like so</div>
<div class="line"># allowDuplicate argument allows you to add duplicates into personal data</div>
<div class="line"> </div>
<div class="line">personalData.addByObject(p1, allowDuplicate=True)</div>
<div class="line"> </div>
<div class="line"># Now you can serialize the data into the file</div>
<div class="line"># You can pass True to overwrite argument if you want to overwrite</div>
<div class="line"># the file if it already exists</div>
<div class="line"># Please remember, serialization format is determined by the extension of the</div>
<div class="line"># provided file</div>
<div class="line"> </div>
<div class="line">personalData.serialize(overwrite=True)</div>
</div><!-- fragment --><p>Operating on an existing files is exactly the same.</p>
<p>You can also use <code><a class="el" href="classsPersonalData_1_1personalDataLib_1_1PersonalData.html#a93e7f520fc425ce074addd54b891555b" title="Add new person.">sPersonalData.personalDataLib.PersonalData.add</a></code> method to provide raw information in order to add a new peron, which would look like;</p>
<div class="fragment"><div class="line">personalData = sPersonalData.personalDataLib.PersonalData(filePath=JSON_FILE)</div>
<div class="line"> </div>
<div class="line">personalData.add(name=&#39;Pete Mitchell&#39;,</div>
<div class="line">                 phoneNumber=&#39;111 222 5566&#39;,</div>
<div class="line">                 address=&#39;Miramar, San Diego, California&#39;,</div>
<div class="line">                 allowDuplicate=True)</div>
<div class="line"> </div>
<div class="line">personalData.serialize(overwrite=True)</div>
</div><!-- fragment --><h1>Displaying Personal Data</h1>
<p>In order to display personal data you can invoke <code><a class="el" href="classsPersonalData_1_1personalDataLib_1_1PersonalData.html#af085e7d3351913100840fbab9ab3940d" title="Display personal data.">sPersonalData.personalDataLib.PersonalData.display</a></code> method, like so;</p>
<div class="fragment"><div class="line">personalData = sPersonalData.personalDataLib.PersonalData(filePath=JSON_FILE)</div>
<div class="line"> </div>
<div class="line">personalData.deserialize()</div>
<div class="line"> </div>
<div class="line">personalData.display()</div>
</div><!-- fragment --><p>You can customize the way personal data gets displayed by implementing abstract class method <code>sPersonalData.personalDataSerializerAbs.Serializer.display</code> in your serialize child class, which essentially provides formats. If this method is not implemented in the child class, default display format of plain text will be used.</p>
<p>You can check <code>sPersonalData.personalDataSerializerXMLLib.Serializer.display</code> method for example implementation.</p>
<h1>Converting Personal Data</h1>
<p>You can convert one format to another by using <code><a class="el" href="classsPersonalData_1_1personalDataLib_1_1PersonalData.html#a56269fae498c863c16db5e7621522004" title="Convert the personal data into the format by provided by a file.">sPersonalData.personalDataLib.PersonalData.convert</a></code> method. Please note, this operation applies to supported formats only. Supported formats can be obtained by using <code><a class="el" href="classsPersonalData_1_1personalDataLib_1_1PersonalData.html#a238eafe35f1650825e027f0cc0fc2562" title="Get valid formats which can be operated with.">sPersonalData.personalDataLib.PersonalData.getFormats</a></code> method, like so;</p>
<div class="fragment"><div class="line">print sPersonalData.personalDataLib.PersonalData.getFormats()</div>
<div class="line"> </div>
<div class="line">#[&#39;JSON&#39;, &#39;XML&#39;]</div>
</div><!-- fragment --><p>Conversion between two formats is done like so;</p>
<div class="fragment"><div class="line">personalData = sPersonalData.personalDataLib.PersonalData(filePath=JSON_FILE)</div>
<div class="line"> </div>
<div class="line">personalData.deserialize()</div>
<div class="line"> </div>
<div class="line">personalData.convert(toFile=XML_FILE, overwrite=True, display=True)</div>
</div><!-- fragment --><p>As you can see <code>convert</code> method accepts three arguments. Namely;</p>
<ul>
<li><code>toFile</code> Destination file, format is determined automatically by the extension of the file.</li>
<li><code>overwrite</code> Whether <code>toFile</code> should be overwritten if it already exists.</li>
<li><code>display</code> Display converted data.</li>
</ul>
<h1>Filtering Personal Data</h1>
<p>Filtering personal data is done by using <code><a class="el" href="classsPersonalData_1_1personalDataLib_1_1PersonalData.html#a3aeedd7657195d98527ba54bde8167b7" title="Filter personal data by using wildcards.">sPersonalData.personalDataLib.PersonalData.filter</a></code> method. Method accepts three arguments where wildcard filtering can be provided. Those arguments are;</p>
<ul>
<li><code>name</code></li>
<li><code>phoneNumber</code></li>
<li><code>address</code></li>
</ul>
<p>Filtering can be done as its given in the example below.</p>
<div class="fragment"><div class="line">personalData = sPersonalData.personalDataLib.PersonalData(filePath=JSON_FILE)</div>
<div class="line"> </div>
<div class="line">personalData.deserialize()</div>
<div class="line"> </div>
<div class="line">print personalData.filter(name=&#39;Pete*&#39;))</div>
<div class="line"> </div>
<div class="line">print personalData.filter(name=&#39;Pete*&#39;, phoneNumber=&#39;2*&#39;, address=&#39;*mar&#39;))</div>
</div><!-- fragment --><h1>Adding a New Format</h1>
<p>Adding a new format (supporting serialization/deserialization for a new format) is extremely easy. Say you want to add CSV format, just follow the steps below.</p>
<ul>
<li>Create a Python module named <code>personalDataSerializer&lt;FORMAT&gt;Lib.py</code> in this package, since in this example format is CSV, the name of the module must be <code>personalDataSerializerCSVLib.py</code></li>
</ul>
<p><b>Note:</b> By doing this, you are actually creating/supporting a new format. The API will be using this naming convention and extracting the format name from the name of the serializer modules dynamically in order to operate on them. So no hard coded implementation needed in order to tell the API which formats are supported.</p>
<ul>
<li>Create a class named <code>Serializer</code> in this module that inherits <code>sPersonalData.personalDataSerializerAbs.Serializer</code> abstract class.</li>
<li>Overwrite <code>serialize</code> method of the abstract class to serialize the data.</li>
<li>Overwrite <code>deserialize</code> method of the abstract class to deserialize the data.</li>
<li>Optionally you can overwrite <code>display</code> method of the abstract class if you want to display the personal data in a very specific way for this format.</li>
</ul>
<p>You can check <code>sPersonalData.personalDataSerializerJSONLib.Serializer</code> class implementation as a very good and simple example.</p>
<p>Entire abstract class documentation can be found at <code>sPersonalData.personalDataSerializerAbs.Serializer</code></p>
<h1>Command Line Interface</h1>
<p>The package comes with some useful commands that you can use.</p>
<h2>spersonaldata-add</h2>
<p>You will be prompted by several questions about the person namely name, phone number and address. Once you entered the information new personal data will be saved into the file which being operated.</p>
<p><b>Flags</b></p>
<ul>
<li><code>file</code> File to be operated on.</li>
<li><code>-d --display</code> Display data after the operation.</li>
</ul>
<div class="fragment"><div class="line">spersonaldata-add personalData.json -d</div>
</div><!-- fragment --><h2>spersonaldata-convert</h2>
<p>You can convert between formats by using this command. Formats that will be operated on will be determined automatically based on the extensions of the provided files.</p>
<p><b>Flags</b></p>
<ul>
<li><code>fromFile</code> From file.</li>
<li><code>toFIle</code> To file.</li>
<li><code>-o --overwrite</code> Overwrite existing <code>toFile</code></li>
<li><code>-d --display</code> Display converted data after the operation.</li>
</ul>
<div class="fragment"><div class="line">spersonaldata-convert personalData.json personalData.xml -o -d</div>
</div><!-- fragment --><h2>spersonaldata-display</h2>
<p>This command displays the data from the file being operated on.</p>
<p><b>Flags</b></p>
<ul>
<li><code>file</code> File to be operated on.</li>
</ul>
<div class="fragment"><div class="line">spersonaldata-display personalData.json</div>
</div><!-- fragment --><h2>spersonaldata-filter</h2>
<p>This command allows you to filter personal data from the file being operated on. You will be prompted by several questions to filter the personal data by name, phone number and address. Non of these questions are mandatory to answer. You can also use wildcard in your filters.</p>
<p><b>Flags</b></p>
<ul>
<li><code>file</code> File to be operated on.</li>
</ul>
<div class="fragment"><div class="line">spersonaldata-filter personalData.json</div>
<div class="line">Name Filter: S*</div>
<div class="line">Phone Number Filter: 2*</div>
<div class="line">Address Filter:</div>
<div class="line"> </div>
<div class="line"># #Name        : Safak Oner</div>
<div class="line"># #Address     : Los Angeles, California</div>
<div class="line"># #Phone Number: 607 999 8822</div>
<div class="line">#</div>
<div class="line"># #Name        : Pete Mitchell</div>
<div class="line"># #Address     : Miramar, San Diego, California</div>
<div class="line"># #Phone Number: 111 222 5566</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
